## Results

`BetaMessageBatchIndividualResponse Beta.Messages.Batches.ResultsStreaming(BatchResultsParamsparameters, CancellationTokencancellationToken = default)`

**get** `/v1/messages/batches/{message_batch_id}/results`

Streams the results of a Message Batch as a `.jsonl` file.

Each line in the file is a JSON object containing the result of a single request in the Message Batch. Results are not guaranteed to be in the same order as requests. Use the `custom_id` field to match results to requests.

Learn more about the Message Batches API in our [user guide](https://docs.claude.com/en/docs/build-with-claude/batch-processing)

### Parameters

- `BatchResultsParams parameters`

  - `required string messageBatchID`

    ID of the Message Batch.

  - `IReadOnlyList<AnthropicBeta> betas`

    Optional header to specify the beta version(s) you want to use.

    - `"message-batches-2024-09-24"MessageBatches2024_09_24`

    - `"prompt-caching-2024-07-31"PromptCaching2024_07_31`

    - `"computer-use-2024-10-22"ComputerUse2024_10_22`

    - `"computer-use-2025-01-24"ComputerUse2025_01_24`

    - `"pdfs-2024-09-25"Pdfs2024_09_25`

    - `"token-counting-2024-11-01"TokenCounting2024_11_01`

    - `"token-efficient-tools-2025-02-19"TokenEfficientTools2025_02_19`

    - `"output-128k-2025-02-19"Output128k2025_02_19`

    - `"files-api-2025-04-14"FilesApi2025_04_14`

    - `"mcp-client-2025-04-04"McpClient2025_04_04`

    - `"mcp-client-2025-11-20"McpClient2025_11_20`

    - `"dev-full-thinking-2025-05-14"DevFullThinking2025_05_14`

    - `"interleaved-thinking-2025-05-14"InterleavedThinking2025_05_14`

    - `"code-execution-2025-05-22"CodeExecution2025_05_22`

    - `"extended-cache-ttl-2025-04-11"ExtendedCacheTtl2025_04_11`

    - `"context-1m-2025-08-07"Context1m2025_08_07`

    - `"context-management-2025-06-27"ContextManagement2025_06_27`

    - `"model-context-window-exceeded-2025-08-26"ModelContextWindowExceeded2025_08_26`

    - `"skills-2025-10-02"Skills2025_10_02`

    - `"fast-mode-2026-02-01"FastMode2026_02_01`

### Returns

- `class BetaMessageBatchIndividualResponse:`

  This is a single line in the response `.jsonl` file and does not represent the response as a whole.

  - `required string CustomID`

    Developer-provided ID created for each request in a Message Batch. Useful for matching results to requests, as results may be given out of request order.

    Must be unique for each request within the Message Batch.

  - `required BetaMessageBatchResult Result`

    Processing result for this request.

    Contains a Message output if processing was successful, an error response if processing failed, or the reason why processing was not attempted, such as cancellation or expiration.

    - `class BetaMessageBatchSucceededResult:`

      - `required BetaMessage Message`

        - `required string ID`

          Unique object identifier.

          The format and length of IDs may change over time.

        - `required BetaContainer? Container`

          Information about the container used in the request (for the code execution tool)

          - `required string ID`

            Identifier for the container used in this request

          - `required DateTimeOffset ExpiresAt`

            The time at which the container will expire.

          - `required IReadOnlyList<BetaSkill>? Skills`

            Skills loaded in the container

            - `required string SkillID`

              Skill ID

            - `required Type Type`

              Type of skill - either 'anthropic' (built-in) or 'custom' (user-defined)

              - `"anthropic"Anthropic`

              - `"custom"Custom`

            - `required string Version`

              Skill version or 'latest' for most recent version

        - `required IReadOnlyList<BetaContentBlock> Content`

          Content generated by the model.

          This is an array of content blocks, each of which has a `type` that determines its shape.

          Example:

          ```json
          [{"type": "text", "text": "Hi, I'm Claude."}]
          ```

          If the request input `messages` ended with an `assistant` turn, then the response `content` will continue directly from that last turn. You can use this to constrain the model's output.

          For example, if the input `messages` were:

          ```json
          [
            {"role": "user", "content": "What's the Greek name for Sun? (A) Sol (B) Helios (C) Sun"},
            {"role": "assistant", "content": "The best answer is ("}
          ]
          ```

          Then the response `content` might be:

          ```json
          [{"type": "text", "text": "B)"}]
          ```

          - `class BetaTextBlock:`

            - `required IReadOnlyList<BetaTextCitation>? Citations`

              Citations supporting the text block.

              The type of citation returned will depend on the type of document being cited. Citing a PDF results in `page_location`, plain text results in `char_location`, and content document results in `content_block_location`.

              - `class BetaCitationCharLocation:`

                - `required string CitedText`

                - `required Long DocumentIndex`

                - `required string? DocumentTitle`

                - `required Long EndCharIndex`

                - `required string? FileID`

                - `required Long StartCharIndex`

                - `JsonElement Type "char_location"constant`

              - `class BetaCitationPageLocation:`

                - `required string CitedText`

                - `required Long DocumentIndex`

                - `required string? DocumentTitle`

                - `required Long EndPageNumber`

                - `required string? FileID`

                - `required Long StartPageNumber`

                - `JsonElement Type "page_location"constant`

              - `class BetaCitationContentBlockLocation:`

                - `required string CitedText`

                - `required Long DocumentIndex`

                - `required string? DocumentTitle`

                - `required Long EndBlockIndex`

                - `required string? FileID`

                - `required Long StartBlockIndex`

                - `JsonElement Type "content_block_location"constant`

              - `class BetaCitationsWebSearchResultLocation:`

                - `required string CitedText`

                - `required string EncryptedIndex`

                - `required string? Title`

                - `JsonElement Type "web_search_result_location"constant`

                - `required string Url`

              - `class BetaCitationSearchResultLocation:`

                - `required string CitedText`

                - `required Long EndBlockIndex`

                - `required Long SearchResultIndex`

                - `required string Source`

                - `required Long StartBlockIndex`

                - `required string? Title`

                - `JsonElement Type "search_result_location"constant`

            - `required string Text`

            - `JsonElement Type "text"constant`

          - `class BetaThinkingBlock:`

            - `required string Signature`

            - `required string Thinking`

            - `JsonElement Type "thinking"constant`

          - `class BetaRedactedThinkingBlock:`

            - `required string Data`

            - `JsonElement Type "redacted_thinking"constant`

          - `class BetaToolUseBlock:`

            - `required string ID`

            - `required IReadOnlyDictionary<string, JsonElement> Input`

            - `required string Name`

            - `JsonElement Type "tool_use"constant`

            - `Caller Caller`

              Tool invocation directly from the model.

              - `class BetaDirectCaller:`

                Tool invocation directly from the model.

                - `JsonElement Type "direct"constant`

              - `class BetaServerToolCaller:`

                Tool invocation generated by a server-side tool.

                - `required string ToolID`

                - `JsonElement Type "code_execution_20250825"constant`

              - `class BetaServerToolCaller20260120:`

                - `required string ToolID`

                - `JsonElement Type "code_execution_20260120"constant`

          - `class BetaServerToolUseBlock:`

            - `required string ID`

            - `required IReadOnlyDictionary<string, JsonElement> Input`

            - `required Name Name`

              - `"web_search"WebSearch`

              - `"web_fetch"WebFetch`

              - `"code_execution"CodeExecution`

              - `"bash_code_execution"BashCodeExecution`

              - `"text_editor_code_execution"TextEditorCodeExecution`

              - `"tool_search_tool_regex"ToolSearchToolRegex`

              - `"tool_search_tool_bm25"ToolSearchToolBm25`

            - `JsonElement Type "server_tool_use"constant`

            - `Caller Caller`

              Tool invocation directly from the model.

              - `class BetaDirectCaller:`

                Tool invocation directly from the model.

                - `JsonElement Type "direct"constant`

              - `class BetaServerToolCaller:`

                Tool invocation generated by a server-side tool.

                - `required string ToolID`

                - `JsonElement Type "code_execution_20250825"constant`

              - `class BetaServerToolCaller20260120:`

                - `required string ToolID`

                - `JsonElement Type "code_execution_20260120"constant`

          - `class BetaWebSearchToolResultBlock:`

            - `required BetaWebSearchToolResultBlockContent Content`

              - `class BetaWebSearchToolResultError:`

                - `required BetaWebSearchToolResultErrorCode ErrorCode`

                  - `"invalid_tool_input"InvalidToolInput`

                  - `"unavailable"Unavailable`

                  - `"max_uses_exceeded"MaxUsesExceeded`

                  - `"too_many_requests"TooManyRequests`

                  - `"query_too_long"QueryTooLong`

                  - `"request_too_large"RequestTooLarge`

                - `JsonElement Type "web_search_tool_result_error"constant`

              - `IReadOnlyList<BetaWebSearchResultBlock>`

                - `required string EncryptedContent`

                - `required string? PageAge`

                - `required string Title`

                - `JsonElement Type "web_search_result"constant`

                - `required string Url`

            - `required string ToolUseID`

            - `JsonElement Type "web_search_tool_result"constant`

            - `Caller Caller`

              Tool invocation directly from the model.

              - `class BetaDirectCaller:`

                Tool invocation directly from the model.

                - `JsonElement Type "direct"constant`

              - `class BetaServerToolCaller:`

                Tool invocation generated by a server-side tool.

                - `required string ToolID`

                - `JsonElement Type "code_execution_20250825"constant`

              - `class BetaServerToolCaller20260120:`

                - `required string ToolID`

                - `JsonElement Type "code_execution_20260120"constant`

          - `class BetaWebFetchToolResultBlock:`

            - `required Content Content`

              - `class BetaWebFetchToolResultErrorBlock:`

                - `required BetaWebFetchToolResultErrorCode ErrorCode`

                  - `"invalid_tool_input"InvalidToolInput`

                  - `"url_too_long"UrlTooLong`

                  - `"url_not_allowed"UrlNotAllowed`

                  - `"url_not_accessible"UrlNotAccessible`

                  - `"unsupported_content_type"UnsupportedContentType`

                  - `"too_many_requests"TooManyRequests`

                  - `"max_uses_exceeded"MaxUsesExceeded`

                  - `"unavailable"Unavailable`

                - `JsonElement Type "web_fetch_tool_result_error"constant`

              - `class BetaWebFetchBlock:`

                - `required BetaDocumentBlock Content`

                  - `required BetaCitationConfig? Citations`

                    Citation configuration for the document

                    - `required Boolean Enabled`

                  - `required Source Source`

                    - `class BetaBase64PdfSource:`

                      - `required string Data`

                      - `JsonElement MediaType "application/pdf"constant`

                      - `JsonElement Type "base64"constant`

                    - `class BetaPlainTextSource:`

                      - `required string Data`

                      - `JsonElement MediaType "text/plain"constant`

                      - `JsonElement Type "text"constant`

                  - `required string? Title`

                    The title of the document

                  - `JsonElement Type "document"constant`

                - `required string? RetrievedAt`

                  ISO 8601 timestamp when the content was retrieved

                - `JsonElement Type "web_fetch_result"constant`

                - `required string Url`

                  Fetched content URL

            - `required string ToolUseID`

            - `JsonElement Type "web_fetch_tool_result"constant`

            - `Caller Caller`

              Tool invocation directly from the model.

              - `class BetaDirectCaller:`

                Tool invocation directly from the model.

                - `JsonElement Type "direct"constant`

              - `class BetaServerToolCaller:`

                Tool invocation generated by a server-side tool.

                - `required string ToolID`

                - `JsonElement Type "code_execution_20250825"constant`

              - `class BetaServerToolCaller20260120:`

                - `required string ToolID`

                - `JsonElement Type "code_execution_20260120"constant`

          - `class BetaCodeExecutionToolResultBlock:`

            - `required BetaCodeExecutionToolResultBlockContent Content`

              Code execution result with encrypted stdout for PFC + web_search results.

              - `class BetaCodeExecutionToolResultError:`

                - `required BetaCodeExecutionToolResultErrorCode ErrorCode`

                  - `"invalid_tool_input"InvalidToolInput`

                  - `"unavailable"Unavailable`

                  - `"too_many_requests"TooManyRequests`

                  - `"execution_time_exceeded"ExecutionTimeExceeded`

                - `JsonElement Type "code_execution_tool_result_error"constant`

              - `class BetaCodeExecutionResultBlock:`

                - `required IReadOnlyList<BetaCodeExecutionOutputBlock> Content`

                  - `required string FileID`

                  - `JsonElement Type "code_execution_output"constant`

                - `required Long ReturnCode`

                - `required string Stderr`

                - `required string Stdout`

                - `JsonElement Type "code_execution_result"constant`

              - `class BetaEncryptedCodeExecutionResultBlock:`

                Code execution result with encrypted stdout for PFC + web_search results.

                - `required IReadOnlyList<BetaCodeExecutionOutputBlock> Content`

                  - `required string FileID`

                  - `JsonElement Type "code_execution_output"constant`

                - `required string EncryptedStdout`

                - `required Long ReturnCode`

                - `required string Stderr`

                - `JsonElement Type "encrypted_code_execution_result"constant`

            - `required string ToolUseID`

            - `JsonElement Type "code_execution_tool_result"constant`

          - `class BetaBashCodeExecutionToolResultBlock:`

            - `required Content Content`

              - `class BetaBashCodeExecutionToolResultError:`

                - `required ErrorCode ErrorCode`

                  - `"invalid_tool_input"InvalidToolInput`

                  - `"unavailable"Unavailable`

                  - `"too_many_requests"TooManyRequests`

                  - `"execution_time_exceeded"ExecutionTimeExceeded`

                  - `"output_file_too_large"OutputFileTooLarge`

                - `JsonElement Type "bash_code_execution_tool_result_error"constant`

              - `class BetaBashCodeExecutionResultBlock:`

                - `required IReadOnlyList<BetaBashCodeExecutionOutputBlock> Content`

                  - `required string FileID`

                  - `JsonElement Type "bash_code_execution_output"constant`

                - `required Long ReturnCode`

                - `required string Stderr`

                - `required string Stdout`

                - `JsonElement Type "bash_code_execution_result"constant`

            - `required string ToolUseID`

            - `JsonElement Type "bash_code_execution_tool_result"constant`

          - `class BetaTextEditorCodeExecutionToolResultBlock:`

            - `required Content Content`

              - `class BetaTextEditorCodeExecutionToolResultError:`

                - `required ErrorCode ErrorCode`

                  - `"invalid_tool_input"InvalidToolInput`

                  - `"unavailable"Unavailable`

                  - `"too_many_requests"TooManyRequests`

                  - `"execution_time_exceeded"ExecutionTimeExceeded`

                  - `"file_not_found"FileNotFound`

                - `required string? ErrorMessage`

                - `JsonElement Type "text_editor_code_execution_tool_result_error"constant`

              - `class BetaTextEditorCodeExecutionViewResultBlock:`

                - `required string Content`

                - `required FileType FileType`

                  - `"text"Text`

                  - `"image"Image`

                  - `"pdf"Pdf`

                - `required Long? NumLines`

                - `required Long? StartLine`

                - `required Long? TotalLines`

                - `JsonElement Type "text_editor_code_execution_view_result"constant`

              - `class BetaTextEditorCodeExecutionCreateResultBlock:`

                - `required Boolean IsFileUpdate`

                - `JsonElement Type "text_editor_code_execution_create_result"constant`

              - `class BetaTextEditorCodeExecutionStrReplaceResultBlock:`

                - `required IReadOnlyList<string>? Lines`

                - `required Long? NewLines`

                - `required Long? NewStart`

                - `required Long? OldLines`

                - `required Long? OldStart`

                - `JsonElement Type "text_editor_code_execution_str_replace_result"constant`

            - `required string ToolUseID`

            - `JsonElement Type "text_editor_code_execution_tool_result"constant`

          - `class BetaToolSearchToolResultBlock:`

            - `required Content Content`

              - `class BetaToolSearchToolResultError:`

                - `required ErrorCode ErrorCode`

                  - `"invalid_tool_input"InvalidToolInput`

                  - `"unavailable"Unavailable`

                  - `"too_many_requests"TooManyRequests`

                  - `"execution_time_exceeded"ExecutionTimeExceeded`

                - `required string? ErrorMessage`

                - `JsonElement Type "tool_search_tool_result_error"constant`

              - `class BetaToolSearchToolSearchResultBlock:`

                - `required IReadOnlyList<BetaToolReferenceBlock> ToolReferences`

                  - `required string ToolName`

                  - `JsonElement Type "tool_reference"constant`

                - `JsonElement Type "tool_search_tool_search_result"constant`

            - `required string ToolUseID`

            - `JsonElement Type "tool_search_tool_result"constant`

          - `class BetaMcpToolUseBlock:`

            - `required string ID`

            - `required IReadOnlyDictionary<string, JsonElement> Input`

            - `required string Name`

              The name of the MCP tool

            - `required string ServerName`

              The name of the MCP server

            - `JsonElement Type "mcp_tool_use"constant`

          - `class BetaMcpToolResultBlock:`

            - `required Content Content`

              - `string`

              - `IReadOnlyList<BetaTextBlock>`

                - `required IReadOnlyList<BetaTextCitation>? Citations`

                  Citations supporting the text block.

                  The type of citation returned will depend on the type of document being cited. Citing a PDF results in `page_location`, plain text results in `char_location`, and content document results in `content_block_location`.

                  - `class BetaCitationCharLocation:`

                    - `required string CitedText`

                    - `required Long DocumentIndex`

                    - `required string? DocumentTitle`

                    - `required Long EndCharIndex`

                    - `required string? FileID`

                    - `required Long StartCharIndex`

                    - `JsonElement Type "char_location"constant`

                  - `class BetaCitationPageLocation:`

                    - `required string CitedText`

                    - `required Long DocumentIndex`

                    - `required string? DocumentTitle`

                    - `required Long EndPageNumber`

                    - `required string? FileID`

                    - `required Long StartPageNumber`

                    - `JsonElement Type "page_location"constant`

                  - `class BetaCitationContentBlockLocation:`

                    - `required string CitedText`

                    - `required Long DocumentIndex`

                    - `required string? DocumentTitle`

                    - `required Long EndBlockIndex`

                    - `required string? FileID`

                    - `required Long StartBlockIndex`

                    - `JsonElement Type "content_block_location"constant`

                  - `class BetaCitationsWebSearchResultLocation:`

                    - `required string CitedText`

                    - `required string EncryptedIndex`

                    - `required string? Title`

                    - `JsonElement Type "web_search_result_location"constant`

                    - `required string Url`

                  - `class BetaCitationSearchResultLocation:`

                    - `required string CitedText`

                    - `required Long EndBlockIndex`

                    - `required Long SearchResultIndex`

                    - `required string Source`

                    - `required Long StartBlockIndex`

                    - `required string? Title`

                    - `JsonElement Type "search_result_location"constant`

                - `required string Text`

                - `JsonElement Type "text"constant`

            - `required Boolean IsError`

            - `required string ToolUseID`

            - `JsonElement Type "mcp_tool_result"constant`

          - `class BetaContainerUploadBlock:`

            Response model for a file uploaded to the container.

            - `required string FileID`

            - `JsonElement Type "container_upload"constant`

          - `class BetaCompactionBlock:`

            A compaction block returned when autocompact is triggered.

            When content is None, it indicates the compaction failed to produce a valid
            summary (e.g., malformed output from the model). Clients may round-trip
            compaction blocks with null content; the server treats them as no-ops.

            - `required string? Content`

              Summary of compacted content, or null if compaction failed

            - `JsonElement Type "compaction"constant`

        - `required BetaContextManagementResponse? ContextManagement`

          Context management response.

          Information about context management strategies applied during the request.

          - `required IReadOnlyList<AppliedEdit> AppliedEdits`

            List of context management edits that were applied.

            - `class BetaClearToolUses20250919EditResponse:`

              - `required Long ClearedInputTokens`

                Number of input tokens cleared by this edit.

              - `required Long ClearedToolUses`

                Number of tool uses that were cleared.

              - `JsonElement Type "clear_tool_uses_20250919"constant`

                The type of context management edit applied.

            - `class BetaClearThinking20251015EditResponse:`

              - `required Long ClearedInputTokens`

                Number of input tokens cleared by this edit.

              - `required Long ClearedThinkingTurns`

                Number of thinking turns that were cleared.

              - `JsonElement Type "clear_thinking_20251015"constant`

                The type of context management edit applied.

        - `required Model Model`

          The model that will complete your prompt.

          See [models](https://docs.anthropic.com/en/docs/models-overview) for additional details and options.

          - `"claude-opus-4-6"ClaudeOpus4_6`

            Most intelligent model for building agents and coding

          - `"claude-sonnet-4-6"ClaudeSonnet4_6`

            Frontier intelligence at scale â€” built for coding, agents, and enterprise workflows

          - `"claude-opus-4-5-20251101"ClaudeOpus4_5_20251101`

            Premium model combining maximum intelligence with practical performance

          - `"claude-opus-4-5"ClaudeOpus4_5`

            Premium model combining maximum intelligence with practical performance

          - `"claude-3-7-sonnet-latest"Claude3_7SonnetLatest`

            High-performance model with early extended thinking

          - `"claude-3-7-sonnet-20250219"Claude3_7Sonnet20250219`

            High-performance model with early extended thinking

          - `"claude-3-5-haiku-latest"Claude3_5HaikuLatest`

            Fastest and most compact model for near-instant responsiveness

          - `"claude-3-5-haiku-20241022"Claude3_5Haiku20241022`

            Our fastest model

          - `"claude-haiku-4-5"ClaudeHaiku4_5`

            Hybrid model, capable of near-instant responses and extended thinking

          - `"claude-haiku-4-5-20251001"ClaudeHaiku4_5_20251001`

            Hybrid model, capable of near-instant responses and extended thinking

          - `"claude-sonnet-4-20250514"ClaudeSonnet4_20250514`

            High-performance model with extended thinking

          - `"claude-sonnet-4-0"ClaudeSonnet4_0`

            High-performance model with extended thinking

          - `"claude-4-sonnet-20250514"Claude4Sonnet20250514`

            High-performance model with extended thinking

          - `"claude-sonnet-4-5"ClaudeSonnet4_5`

            Our best model for real-world agents and coding

          - `"claude-sonnet-4-5-20250929"ClaudeSonnet4_5_20250929`

            Our best model for real-world agents and coding

          - `"claude-opus-4-0"ClaudeOpus4_0`

            Our most capable model

          - `"claude-opus-4-20250514"ClaudeOpus4_20250514`

            Our most capable model

          - `"claude-4-opus-20250514"Claude4Opus20250514`

            Our most capable model

          - `"claude-opus-4-1-20250805"ClaudeOpus4_1_20250805`

            Our most capable model

          - `"claude-3-opus-latest"Claude3OpusLatest`

            Excels at writing and complex tasks

          - `"claude-3-opus-20240229"Claude_3_Opus_20240229`

            Excels at writing and complex tasks

          - `"claude-3-haiku-20240307"Claude_3_Haiku_20240307`

            Our previous most fast and cost-effective

        - `JsonElement Role "assistant"constant`

          Conversational role of the generated message.

          This will always be `"assistant"`.

        - `required BetaStopReason? StopReason`

          The reason that we stopped.

          This may be one the following values:

          * `"end_turn"`: the model reached a natural stopping point
          * `"max_tokens"`: we exceeded the requested `max_tokens` or the model's maximum
          * `"stop_sequence"`: one of your provided custom `stop_sequences` was generated
          * `"tool_use"`: the model invoked one or more tools
          * `"pause_turn"`: we paused a long-running turn. You may provide the response back as-is in a subsequent request to let the model continue.
          * `"refusal"`: when streaming classifiers intervene to handle potential policy violations

          In non-streaming mode this value is always non-null. In streaming mode, it is null in the `message_start` event and non-null otherwise.

          - `"end_turn"EndTurn`

          - `"max_tokens"MaxTokens`

          - `"stop_sequence"StopSequence`

          - `"tool_use"ToolUse`

          - `"pause_turn"PauseTurn`

          - `"compaction"Compaction`

          - `"refusal"Refusal`

          - `"model_context_window_exceeded"ModelContextWindowExceeded`

        - `required string? StopSequence`

          Which custom stop sequence was generated, if any.

          This value will be a non-null string if one of your custom stop sequences was generated.

        - `JsonElement Type "message"constant`

          Object type.

          For Messages, this is always `"message"`.

        - `required BetaUsage Usage`

          Billing and rate-limit usage.

          Anthropic's API bills and rate-limits by token counts, as tokens represent the underlying cost to our systems.

          Under the hood, the API transforms requests into a format suitable for the model. The model's output then goes through a parsing stage before becoming an API response. As a result, the token counts in `usage` will not match one-to-one with the exact visible content of an API request or response.

          For example, `output_tokens` will be non-zero, even for an empty string response from Claude.

          Total input tokens in a request is the summation of `input_tokens`, `cache_creation_input_tokens`, and `cache_read_input_tokens`.

          - `required BetaCacheCreation? CacheCreation`

            Breakdown of cached tokens by TTL

            - `required Long Ephemeral1hInputTokens`

              The number of input tokens used to create the 1 hour cache entry.

            - `required Long Ephemeral5mInputTokens`

              The number of input tokens used to create the 5 minute cache entry.

          - `required Long? CacheCreationInputTokens`

            The number of input tokens used to create the cache entry.

          - `required Long? CacheReadInputTokens`

            The number of input tokens read from the cache.

          - `required string? InferenceGeo`

            The geographic region where inference was performed for this request.

          - `required Long InputTokens`

            The number of input tokens which were used.

          - `required IReadOnlyList<BetaIterationsUsageItems>? Iterations`

            Per-iteration token usage breakdown.

            Each entry represents one sampling iteration, with its own input/output token counts and cache statistics. This allows you to:

            - Determine which iterations exceeded long context thresholds (>=200k tokens)
            - Calculate the true context window size from the last iteration
            - Understand token accumulation across server-side tool use loops

            - `class BetaMessageIterationUsage:`

              Token usage for a sampling iteration.

              - `required BetaCacheCreation? CacheCreation`

                Breakdown of cached tokens by TTL

                - `required Long Ephemeral1hInputTokens`

                  The number of input tokens used to create the 1 hour cache entry.

                - `required Long Ephemeral5mInputTokens`

                  The number of input tokens used to create the 5 minute cache entry.

              - `required Long CacheCreationInputTokens`

                The number of input tokens used to create the cache entry.

              - `required Long CacheReadInputTokens`

                The number of input tokens read from the cache.

              - `required Long InputTokens`

                The number of input tokens which were used.

              - `required Long OutputTokens`

                The number of output tokens which were used.

              - `JsonElement Type "message"constant`

                Usage for a sampling iteration

            - `class BetaCompactionIterationUsage:`

              Token usage for a compaction iteration.

              - `required BetaCacheCreation? CacheCreation`

                Breakdown of cached tokens by TTL

                - `required Long Ephemeral1hInputTokens`

                  The number of input tokens used to create the 1 hour cache entry.

                - `required Long Ephemeral5mInputTokens`

                  The number of input tokens used to create the 5 minute cache entry.

              - `required Long CacheCreationInputTokens`

                The number of input tokens used to create the cache entry.

              - `required Long CacheReadInputTokens`

                The number of input tokens read from the cache.

              - `required Long InputTokens`

                The number of input tokens which were used.

              - `required Long OutputTokens`

                The number of output tokens which were used.

              - `JsonElement Type "compaction"constant`

                Usage for a compaction iteration

          - `required Long OutputTokens`

            The number of output tokens which were used.

          - `required BetaServerToolUsage? ServerToolUse`

            The number of server tool requests.

            - `required Long WebFetchRequests`

              The number of web fetch tool requests.

            - `required Long WebSearchRequests`

              The number of web search tool requests.

          - `required ServiceTier? ServiceTier`

            If the request used the priority, standard, or batch tier.

            - `"standard"Standard`

            - `"priority"Priority`

            - `"batch"Batch`

          - `required Speed? Speed`

            The inference speed mode used for this request.

            - `"standard"Standard`

            - `"fast"Fast`

      - `JsonElement Type "succeeded"constant`

    - `class BetaMessageBatchErroredResult:`

      - `required BetaErrorResponse Error`

        - `required BetaError Error`

          - `class BetaInvalidRequestError:`

            - `required string Message`

            - `JsonElement Type "invalid_request_error"constant`

          - `class BetaAuthenticationError:`

            - `required string Message`

            - `JsonElement Type "authentication_error"constant`

          - `class BetaBillingError:`

            - `required string Message`

            - `JsonElement Type "billing_error"constant`

          - `class BetaPermissionError:`

            - `required string Message`

            - `JsonElement Type "permission_error"constant`

          - `class BetaNotFoundError:`

            - `required string Message`

            - `JsonElement Type "not_found_error"constant`

          - `class BetaRateLimitError:`

            - `required string Message`

            - `JsonElement Type "rate_limit_error"constant`

          - `class BetaGatewayTimeoutError:`

            - `required string Message`

            - `JsonElement Type "timeout_error"constant`

          - `class BetaApiError:`

            - `required string Message`

            - `JsonElement Type "api_error"constant`

          - `class BetaOverloadedError:`

            - `required string Message`

            - `JsonElement Type "overloaded_error"constant`

        - `required string? RequestID`

        - `JsonElement Type "error"constant`

      - `JsonElement Type "errored"constant`

    - `class BetaMessageBatchCanceledResult:`

      - `JsonElement Type "canceled"constant`

    - `class BetaMessageBatchExpiredResult:`

      - `JsonElement Type "expired"constant`

### Example

```csharp
BatchResultsParams parameters = new() { MessageBatchID = "message_batch_id" };

await foreach (var betaMessageBatchIndividualResponse in client.Beta.Messages.Batches.ResultsStreaming(parameters))
{
    Console.WriteLine(betaMessageBatchIndividualResponse);
}
```
